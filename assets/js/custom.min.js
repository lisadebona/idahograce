jQuery(document).ready(function(t){function e(){t(window).width();t("input.notes-input").length>0&&(t("input.notes-input").each(function(){var e,n=t(this),o=t(this).attr("id"),i=o+"_"+a,s="undefined"!=typeof Cookies.get(i)?Cookies.get(i):"";e=s?'<span data-rel="#'+o+'" class="mobileField auto-width" style="display:inline-block">'+s+"</span>":'<span data-rel="#'+o+'" class="mobileField" style="display:none">&nbsp;</span>',t(e).insertAfter(n)}),t(document).on("click","span.mobileField",function(){var e=t(this).attr("data-rel"),n=t(this).text();t(this).addClass("keying"),t("input.ansTxtbox").attr("data-mapinput",e),t("#modalInputField").addClass("open"),n&&t("#modalInputField input.ansTxtbox").val(n),t("#modalInputField input.ansTxtbox").focus()}),t(document).on("click","#cancelInputBtn",function(e){e.preventDefault(),t("#modalInputField").removeClass("open"),t("#modalInputField input.ansTxtbox").val(""),t("#modalInputField input.ansTxtbox").attr("data-mapinput",""),t("span.mobileField.keying").removeClass("auto-width"),t("span.mobileField.keying").text("")}),t(document).on("click","#saveInputBtn",function(e){e.preventDefault();var n=t("input.ansTxtbox").attr("data-mapinput"),o=t("input.ansTxtbox").val();t("input"+n).val(o);var i=n.replace("#",""),s=i+"_"+a;Cookies.set(s,o),t("#modalInputField").removeClass("open"),t("#modalInputField input.ansTxtbox").val(""),t("#modalInputField input.ansTxtbox").attr("data-mapinput","")}),t(document).on("keyup focusout","#modalInputField input.ansTxtbox",function(){var e=t(this).attr("data-mapinput"),n=t(this).val().replace(/\s/g," ").trim(),o=n.replace(/\s/g,"").trim(),a=o?n:"";t('span.mobileField[data-rel="'+e+'"]').length>0&&(t('span.mobileField[data-rel="'+e+'"]').text(a),t('span.mobileField[data-rel="'+e+'"]').addClass("auto-width")),t("input#sermonAnswerInput1").val(a)}))}function n(){var t=new Date,e=t.getMonth()+1,n=e.toString().length<2?"0"+e.toString():e,o=t.getDate().toString().length<2?"0"+t.getDate().toString():t.getDate(),a=t.getFullYear(),i=n+o+a;return i}function o(t){var e=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return e.test(t)}new Swiper("#slideshow",{effect:"fade",loop:!0,noSwiping:!1,simulateTouch:!1,speed:1e3,autoplay:{delay:4e3}});t('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=t(this.hash);n=n.length?n:t("[name="+this.hash.slice(1)+"]"),n.length&&(e.preventDefault(),t("html, body").animate({scrollTop:n.offset().top},1e3,function(){var e=t(n);return e.focus(),!e.is(":focus")&&(e.attr("tabindex","-1"),void e.focus())}))}}),(new WOW).init(),t(document).on("click","#toggleMenu",function(){t(this).toggleClass("open"),t("body").toggleClass("open-mobile-menu")}),t(document).on("click",".sermonBtn",function(e){e.preventDefault();var n=t(this).text();"Add notes"==n?t(this).text("Hide notes"):t(this).html('<i class="fas fa-edit"></i>Add notes'),t(this).toggleClass("hide-note"),t(this).parents(".sermon-note-wrap").toggleClass("open"),t(this).parents(".sermon-note-wrap").find("textarea").focus()});t("#notefield").val();t(".notes-input").each(function(e){var n=e+1,o="sermonAnswerInput"+n;t(this).attr("id",o);var a=t(this).clone();t(this).attr("data-index",e),t(a).appendTo(".notesContainer")});var a=n(),i=1;t(".notes-input").on("keyup focusout",function(e){var n=t(this).attr("id"),o=t(this).attr("data-index"),s=t(this).val().trim(),l=s.replace(/\s/g,"").trim(),u=l?s:"";t(".notesContainer .notes-input").eq(o).val(u);var r=n+"_"+a;Cookies.set(r,s),i++}),t("#downloadNotes").click(function(e){e.preventDefault(),t("input#action_type").val("download"),t("input#userEmail").val(""),setTimeout(function(){t("#notesForm").submit()},100)}),t("input#emailTo").on("keyup focusout",function(e){var n=(t(this).attr("data-index"),t(this).val()),o=n.replace(/\s/g,"").trim();t("input#userEmail").val(o)}),t("#emailNotesFrm").on("shown.bs.modal",function(){t("input#action_type").val("email"),t("input#emailTo").focus()}),t(document).on("click","#emailNotes",function(e){e.preventDefault();var n=t("input#emailTo").val(),a=t("input#userEmail").val(),i="";n&&a&&o(n)?t("#notesForm").submit():i='<div class="msg">Please enter a valid email address.</div>',t("#respond").html(i)}),t(document).on("click",".closeModal",function(e){e.preventDefault(),t("#messageModal").remove(),t("#messageBg").remove()}),t(document).on("click","#resetBtn",function(e){e.preventDefault(),t(".notes-input").each(function(e){var n=e+1,o="sermonAnswerInput"+n+"_"+a,n=e+1;Cookies.remove(o,""),t(this).val(""),t(this).next(".mobileField").length>0&&(t(this).next(".mobileField").text(""),t(this).next(".mobileField").removeClass("auto-width"))})});var s=t(".sermon-posts .notes-input").length;Cookies.set("sermonInputsCount",s);t("input#dateToday").val();if("undefined"!=Cookies.get("sermonsaveddate")&&Cookies.set("sermonsaveddate",a),Cookies.get("sermonInputsCount")>0){var l,u=(Cookies.get("sermonsaveddate"),Cookies.get("sermonInputsCount"));for(l=1;l<=u;l++){var r="sermonAnswerInput"+l+"_"+a,d="undefined"!=typeof Cookies.get(r)?Cookies.get(r):"";t("#sermonAnswerInput"+l).val(d),t("#notesForm #sermonAnswerInput"+l).val(d)}}e()});